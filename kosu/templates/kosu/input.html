{% load static %}
<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{title}}</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>
  <script src="{% static 'kosu/js/jquery-clock-timepicker.min.js' %}"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="{% static 'kosu/css/bootstrap.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'kosu/css/custom.css' %}">
  <style>
    input.big {
      transform: scale(1.5);
    }
  </style>
</head>
<body class="container">
  <h1 class="display-1 text-primary">{{title}}</h1>
    <p class="h6 no-wrap">
      <a href="{% url 'kosu_main' %}">工数MENUへ</a>　　
      <a href="{% url 'kosu_list' 1 %}">履歴へ</a>　　
      {% if obj_link == True %}
        <a href="{% url 'detail' obj_get.id %}">工数編集</a>　　
      {% endif %}
      <a href="{% url 'main' %}">メインMENUへ</a>
    </p>
  {% for message in messages %}
    <div {% if message.tags %}class="{{ message.tags }}"{% endif %}>
      <p class="text-danger">
        {{ message }}
      </p>
    </div>
  {% endfor %}
  <form action="{% url 'input' %}" method="post">
    {% csrf_token %}
    <table class="table table-bordered border-dark table-custom">
      <tr>
        <th>昼休憩</th>
        <td>
          <input class="your-time-field form-control custom-border" style="width: 80px;" type="text" id="start_time1" name="start_time1" data-precision="5" value={{default_start_time1}}>
          ～
          <input class="your-time-field form-control custom-border" style="width: 80px;" type="text" id="end_time1" name="end_time1" data-precision="5" value={{default_end_time1}}>
        </td>
      </tr>
    </table>
    <table class="table table-custom no-wrap">
      <tr>
        <th class="d-none d-md-table-cell" style="text-align:center;">
          就業日・勤務・直
        </th>
        <th style="text-align:center;" class="d-table-cell d-md-none">
          就業日
        </th>
        <td>
          <div class="number-input-group">
            <input type="date" class="form-control custom-border" style="width: 210px;" name="work_day" id="work_day" value={{new_day}}>　
            <div class="d-none d-md-table-cell"><div class="number-input-group">{{form.work}}　{{form.tyoku}}　</div></div>
            {% if OK_NG == True %}
              <b class="text-primary h4">OK</b>
            {% else %}
              <b class="text-danger h4">NG</b>
            {% endif %}
          </div>
        </td>
      </tr>
      <tr>
        <th class="d-table-cell d-md-none" style="text-align:center;">
          勤務
        </th>
        <td class="d-table-cell d-md-none">
          {{form.work2}}
        </td>
      </tr>
      <tr>
        <th class="d-table-cell d-md-none" style="text-align:center;">
          勤務直
        </th>
        <td class="d-table-cell d-md-none">
          {{form.tyoku2}}
        </td>
      </tr>
      <tr>
        <th style="text-align:center;">
          作業時間<br>
          <input type="submit" value="現在時刻"  name="now_time" class="btn btn-blue7 mt-2 d-table-cell d-md-none">
        </th>
        <td>
          <div class="number-input-group">
            <input class="your-time-field form-control custom-border" style="width : 90px;" type="text" id="start_time" name="start_time" data-precision="5" value={{default_start_time}}>
            ～
            <input class="your-time-field form-control custom-border" style="width : 90px;" type="text" id="end_time" name="end_time" data-precision="5" value={{default_end_time}}>　
            <div class="form-check form-check-inline custom-checkbox">
              {{form.tomorrow_check.label}}{{form.tomorrow_check}}
            </div>
            <p class="d-none d-md-table-cell">　　　　</p>
            <input type="submit" value="現在時刻"  name="now_time" class="btn btn-blue7 mt-2 d-none d-md-table-cell">
          </div>
        </td>
      </tr>
      <tr>
        <th style="text-align:center;">
          作業詳細
        </th>
        <td>
          {{form.work_detail}}
        </td>
      </tr>
      <tr>
        <th style="text-align:center;">
          業務区分
        </th>
        <td>
          <div class="number-input-group">
            {{form.kosu_def_list}}
            <input type="submit" value="定義確認"  name="def_find" class="btn btn-green4 mt-2 btn-sm">
          </div>
        </td>
      </tr>
      <tr>
        <th style="text-align:center;">
          残業
        </th>
        <td>
          <div class="number-input-group">
            <button type="button" class="custom-button" onclick="decrement(this)">-</button>
            {{ form.over_work }}
            <button type="button" class="custom-button" onclick="increment(this)">+</button>　　
            <input type="submit" value="残業のみ修正"  name="over_time_correction" class="btn btn-blue7 mt-2 btn-sm">
          </div>
        </td>
      </tr>
      <tr>
        <th style="text-align:center;">
          休憩変更
        </th>
        <td>
          <div class="form-check form-check-inline custom-checkbox">
            {{form.break_change}}
            (休憩時間工数入力可)
          </div>
        </td>
      </tr>
      <tr><th><td>
        <div class="number-input-group">
          <input type="submit" value="工数登録"  name="Registration" class="btn btn-blue8 mt-2">　　　
          <input type="submit" value="休憩変更登録"  name="change_display" class="btn btn-blue7 mt-2">
        </div>
      </td></th></tr>
      <button id="update" name="update" class="btn btn-link"></button>
    </table>

  </form>

  <script>
    $(document).ready(function() {
        $('.your-time-field').clockTimePicker({
            duration: true,
            durationNegative: true,
      alwaysSelectHoursFirst: true,
            precision: 5,
            i18n: {
                cancelButton: 'キャンセル'
            },
            onAdjust: function(newVal, oldVal) {}
        });
    });
  </script>

</body>
</html>